{"version":3,"sources":["routes/Shortcuts.js","registerServiceWorker.js","index.js","App.js"],"names":["meta","title","version","url","A","_ref","href","children","react_default","a","createElement","target","rel","Shortcuts","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","document","className","style","padding","Shortcuts_A","React","Component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","ReactDOM","render","react_router_dom","react_router","path","component","getElementById","URL","process","origin","addEventListener","concat","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.dcb5b24d.chunk.js","sourcesContent":["import React from 'react';\nimport 'primer-markdown/build/build.css';\n\nconst meta = {\n  title: '12306 SMS to Cal',\n  version: 'v3.1',\n  url: 'https://www.icloud.com/shortcuts/a4626693baca46e786095ecfe4f001ab',\n}\n\nconst A = ({ href, children }) => <a href={href} target=\"_blank\" rel=\"noopener noreferrer\">{children}</a>\n\nexport default class Shortcuts extends React.Component {\n  constructor(props) {\n    super(props);\n\n    document.title = meta.title;\n  }\n\n  render() {\n    return <div className=\"markdown-body\" style={{ padding: 16 }}>\n      <h1>{meta.title}</h1>\n      <blockquote>版本：{meta.version} <A href={meta.url}>GET</A></blockquote>\n\n      <h2>使用方法</h2>\n\n      <h3>短信</h3>\n      <ol>\n        <li>复制 12306 发来的短信；</li>\n        <li>在通知中心或捷径应用内运行；</li>\n        <li>根据提示操作；</li>\n        <li>乘车信息将自动添加到系统日历。</li>\n      </ol>\n\n      <h3>邮件</h3>\n      <ol>\n        <li>打开 12306@rails.com.cn 发来的订票、改签邮件；</li>\n        <li>选中其中含有车次信息的文字（全选邮件也可以）；</li>\n        <li>点击弹出框最右侧的 “共享...” 按钮；</li>\n        <li>在分享菜单选择捷径 App；</li>\n        <li>选择 {meta.title} 运行；</li>\n        <li>因邮件中信息包含了到达站，所以日程将直接添加成功。</li>\n      </ol>\n\n      <h2>注意事项</h2>\n      <ul>\n        <li>使用本捷径需连接网络；</li>\n        <li>支持 12306 发送的【铁路12306】、【铁路客服】及 “中国铁路行程提醒服务” 开头的短信；</li>\n        <li>支持在售火车票行程，其他时间一般不会成功。</li>\n      </ul>\n\n      <h2>隐私声明</h2>\n      <p>捷径会向本站：<A href=\"https://api.wangjian.io\">api.wangjian.io</A> 上传短信中的<strong>日期</strong>、<strong>车次</strong>、<strong>出发站</strong>和<strong>到达站</strong>信息，用来获取出发时间、到达时间和历时。</p>\n      <p>其他信息操作均在捷径 App 内完成，大家可放心使用。</p>\n\n      <h2>更新日志</h2>\n\n      <h3>v3.1<small> - 20181119 <A href=\"https://www.icloud.com/shortcuts/a4626693baca46e786095ecfe4f001ab\">GET</A></small></h3>\n      <p>新增支持【铁路12306】开头的短信；</p>\n      <p>现在支持从邮件添加日程：选择邮件中含有相关信息的文字（全选也可以），通过共享菜单调用捷径。</p>\n\n      <h3>v3.0<small> - 20180926 <A href=\"https://www.icloud.com/shortcuts/b768dfdbe9a9433c8ec3ac4ea590bace\">GET</A></small></h3>\n      <p>到达车站选择列表回归；</p>\n      <p>现在支持购票和行程提醒服务两种短信；其中行程提醒服务短信甚至不需要选择到达车站，真正一键添加；</p>\n      <p>接口查询速度优化，成功率更高，不需像以前那样等待很久了；</p>\n      <p>支持了更多出发站的短信，如香港西九龙。</p>\n\n      <h3>v2.6<small> - 20180919 <A href=\"https://www.icloud.com/shortcuts/a91b6cb2f5d5482c9776dbeb41ab12dc\">GET</A></small></h3>\n      <p>对不复制短信运行和将短信粘贴到目的车站输入框的情况做了限制。</p>\n\n      <h3>v2.5<small> - 20180919 <A href=\"https://www.icloud.com/shortcuts/b9001e8898a34b5f86d0128eabf1602a\">GET</A></small></h3>\n      <p>使用新版捷径(Shortcuts)制作，如遇到不兼容问题，请先更新 app；</p>\n      <p>增加大量提示，方便排错，提高成功率。</p>\n      <p>记得使用前先复制短信；</p>\n      <p>选择车站功能即将回归。</p>\n\n      <h3>v2.4<small> - 20180916 <A href=\"https://workflow.is/workflows/355dfce33b5f4876a709b1990e0e2661\">GET</A></small></h3>\n      <p>移除失效的第三方 API，暂时使用手动输入方式。</p>\n\n      <blockquote>\n\n        <h4>- - - - - 以下版本已失效 - - - - -</h4>\n\n        <h3>v2.3<small> - 20171124 <A href=\"https://workflow.is/workflows/9854ff939a9442879d7430d773ebe3c0\">GET</A></small></h3>\n        <p>优化了正则表达式，可用性更高；</p>\n        <p>增加了自动检查更新功能：默认开启，也可在 flow 内自行关闭。</p>\n\n        <h3>v2.2<small> - 20171119 <A href=\"https://workflow.is/workflows/31c9c915152042bbb104702b4d18a60c\">GET</A></small></h3>\n        <p>删除了多余的 Quick Look 动作；</p>\n        <p>检票口再次可用；</p>\n        <p>下次更新应该会加个检查更新功能。</p>\n\n        <h3>v2.1<small> - 20171114 <A href=\"https://workflow.is/workflows/d9a7b5547c224aa6bd64198e330c58ff\">GET</A></small></h3>\n        <p>最近 12306 好勤劳，短信一改再改，这回又多了个逗号...</p>\n\n        <h3>v2.0<small> - 20171023 <A href=\"https://workflow.is/workflows/c705dbe4e45c4d42a645487effeb3d39\">GET</A></small></h3>\n        <p>现在列车时间直接从 12306.cn 查询，时间不再出错；</p>\n        <p>新增支持短信中的检票口信息；</p>\n        <p>现在仅支持在售车票行程（即还未发车），历史短信无效。</p>\n\n        <h3>v1.4<small> - 20170515 <A href=\"https://workflow.is/workflows/d0b54ab4a71f4cb2bb476c4afe2c20e1\">GET</A></small></h3>\n        <p>更新变量名，方便大家辨识结果来源并根据需要修改；</p>\n        <p>增加验证机制，若短信中的发车时间与 API 查询结果不符：发车时间以短信为准，到站时间使用 API 数据计算。</p>\n\n        <h3>v1.3<small> - 20170504 <A href=\"https://workflow.is/workflows/43c23c8df41c49a881b548bc35c7b318\">GET</A></small></h3>\n        <p>修复了在始发站出发不能正确确定时间的 bug。</p>\n\n        <h3>v1.2<small> - 20170407 <A href=\"https://workflow.is/workflows/c50626367c8e4d649f5978338a432e15\">GET</A></small></h3>\n        <p>感谢 <A href=\"https://twitter.com/ysjiang4869\">@ysjiang4869</A> 介绍的接口，现在只需要选择目的地即可完成操作（需使用网络）；</p>\n        <p>现支持在通知中心直接运行，但如果可选车站列表大于 16 个，在通知中心会显示不全，届时请进入应用运行。</p>\n\n        <h3>v1.1<small> - 20170408 <A href=\"https://workflow.is/workflows/b5818e1f1b2b4f10a88d0445f961221e\">GET</A></small></h3>\n        <p>修复 bug，新增支持无座票。至此已支持所有类型短信。</p>\n\n        <h3>v1.0<small> - 20170407 <A href=\"https://workflow.is/workflows/9c581dd83da74c33bbfe17fa937bfbc7\">GET</A></small></h3>\n        <p>初始版本。</p>\n\n      </blockquote>\n\n      <h2>联系方式</h2>\n      <p>email: <a href=\"mailto:contact@wangjian.io\">contact@wangjian.io</a></p>\n      <p>twitter: <A href=\"https://twitter.com/lopedever\">@lopedever</A></p>\n\n    </div>\n  }\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n","import React from 'react';\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport Shortcuts from './routes/Shortcuts';\nimport './App.css';\n\nexport default function App() {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path=\"/shortcuts\" component={Shortcuts} />\n      </Switch>\n    </HashRouter>\n  );\n}\n"],"sourceRoot":""}